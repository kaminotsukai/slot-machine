# スロットマシン UI デザイン仕様

## 概要

本物のスロットマシンを模した、リッチで没入感のあるユーザーインターフェースを実装します。

## 参考イメージ

提供された画像を基に、以下の要素を実装します：
- 3つの縦型リール（各リールに3つのシンボルが表示）
- 金属フレームのような境界線
- ダークな背景
- クラシックなスロットマシンの雰囲気

## デザイン要素

### 1. 全体レイアウト

```
┌─────────────────────────────────────┐
│         🎰 スロットマシン 🎰         │
├─────────────────────────────────────┤
│  ┌───────────────────────────────┐  │
│  │  ┏━━━━┓  ┏━━━━┓  ┏━━━━┓    │  │
│  │  ┃ 🍒 ┃  ┃ BAR ┃  ┃ 🔔 ┃    │  │
│  │  ┃ 7️⃣  ┃  ┃ 7️⃣  ┃  ┃ 7️⃣  ┃    │  │
│  │  ┃ 🍋 ┃  ┃ 🍇 ┃  ┃ BAR ┃    │  │
│  │  ┗━━━━┛  ┗━━━━┛  ┗━━━━┛    │  │
│  │   [停止1] [停止2] [停止3]     │  │
│  └───────────────────────────────┘  │
│                                     │
│          [ スピン ]                 │
│                                     │
│      🎉 おめでとうございます！ 🎉    │
└─────────────────────────────────────┘
```

### 2. カラーパレット

#### 背景
- **メイン背景**: ダークグラデーション（#1a1a2e → #16213e）
- **マシン本体**: ダークグレー（#2d3748）
- **リールフレーム**: メタリックグレー（#4a5568 → #2d3748）

#### アクセントカラー
- **ゴールド**: #ffd700（フレームのハイライト）
- **レッド**: #e53e3e（停止ボタン）
- **グリーン**: #38a169（勝利表示）
- **パープル**: #667eea（スピンボタン）

#### リール
- **リール背景**: ホワイト（#ffffff）
- **リール境界**: ダークグレー（#1a202c）
- **ペイライン**: ゴールド（#ffd700）半透明

### 3. リールデザイン

#### 構造
- **リールサイズ**: 幅 140px × 高さ 420px（3シンボル分）
- **シンボルサイズ**: 140px × 140px
- **シンボル間隔**: なし（密着）
- **表示シンボル数**: 3つ（上・中央・下）

#### リールフレーム
```css
- 外枠: 8px ソリッドボーダー（#2d3748）
- 内側ハイライト: 2px ゴールド（#ffd700）
- ボックスシャドウ: 
  - 外側: 0 8px 32px rgba(0,0,0,0.6)
  - 内側: inset 0 2px 8px rgba(255,215,0,0.3)
- ボーダー半径: 12px
```

#### ペイライン
- 中央の横線（勝利判定ライン）
- 色: rgba(255, 215, 0, 0.5)
- 幅: 100%
- 高さ: 4px
- 位置: リールの中央（垂直方向）

### 4. シンボル

#### サイズと配置
- **フォントサイズ**: 5em（約80px）
- **行の高さ**: 140px
- **中央揃え**: 水平・垂直ともに中央

#### シンボルセット
```
🍒 チェリー
🍋 レモン
🍊 オレンジ
🍇 ぶどう
🔔 ベル
⬛ BAR
7️⃣  セブン
```

#### アニメーション
- **回転中**: 縦方向にスクロール（上から下へ）
- **速度**: 0.05s per symbol
- **イージング**: linear
- **停止**: ease-out（0.3s）

### 5. ボタンデザイン

#### 停止ボタン（各リール下）
```css
- サイズ: 120px × 40px
- 背景: linear-gradient(145deg, #e53e3e, #c53030)
- テキスト: 白、太字、14px
- ボーダー: 2px solid #9b2c2c
- ボーダー半径: 8px
- ボックスシャドウ: 0 4px 12px rgba(229,62,62,0.4)
- ホバー: 上に2px移動、シャドウ拡大
- 無効時: グレースケール、透明度50%
```

#### スピンボタン（中央下部）
```css
- サイズ: 200px × 60px
- 背景: linear-gradient(145deg, #667eea, #764ba2)
- テキスト: 白、太字、24px、大文字
- ボーダー: 3px solid #5a67d8
- ボーダー半径: 30px
- ボックスシャドウ: 0 6px 24px rgba(102,126,234,0.5)
- ホバー: 上に3px移動、シャドウ拡大、グロー効果
- 無効時: グレースケール、透明度60%
```

### 6. 結果表示

#### 勝利時
```css
- 背景: linear-gradient(145deg, #48bb78, #38a169)
- テキスト: 白、太字、28px
- アニメーション: 
  - スケール: 1.0 → 1.1 → 1.0
  - 回転: -3deg → 3deg → 0deg
  - 継続時間: 0.6s
- エフェクト: 紙吹雪（オプション）
```

#### 敗北時
```css
- 背景: linear-gradient(145deg, #718096, #4a5568)
- テキスト: 白、通常、20px
- アニメーション: フェードイン（0.3s）
```

### 7. アニメーション仕様

#### リール回転アニメーション

**開始時**:
```
1. 全リールが同時に回転開始
2. シンボルが上から下へ高速スクロール
3. 各シンボルは0.05秒で切り替わる
4. ブラー効果で速度感を演出
```

**停止時**:
```
1. 停止ボタンクリック
2. 対象リールが減速（0.3秒）
3. 最終シンボルで停止
4. バウンス効果（軽く跳ねる）
5. ペイラインがハイライト（0.2秒）
```

#### 勝利アニメーション
```
1. 全リール停止
2. ペイラインが点滅（3回）
3. 勝利シンボルが拡大（1.2倍）
4. 結果表示がスライドイン
5. 紙吹雪エフェクト（オプション）
```

### 8. レスポンシブデザイン

#### デスクトップ（1024px以上）
- リール幅: 140px
- シンボルサイズ: 5em
- 3リール横並び
- 余白: 十分

#### タブレット（768px - 1023px）
- リール幅: 120px
- シンボルサイズ: 4em
- 3リール横並び
- 余白: 中程度

#### モバイル（767px以下）
- リール幅: 100px
- シンボルサイズ: 3em
- 3リール横並び（密着）
- 余白: 最小限
- ボタンサイズ縮小

### 9. アクセシビリティ

#### キーボード操作
- **Space**: スピン開始
- **1, 2, 3**: 各リール停止
- **Tab**: フォーカス移動
- **Enter**: ボタン実行

#### スクリーンリーダー
- 各要素に適切なARIAラベル
- 状態変化の通知
- ボタンの役割説明

#### 視覚的配慮
- 高コントラスト
- 色だけに依存しない情報伝達
- 十分なフォントサイズ

### 10. パフォーマンス最適化

#### アニメーション
- CSS transformsを使用（GPU加速）
- will-changeプロパティで最適化
- requestAnimationFrameで滑らかな動き

#### レンダリング
- 不要な再描画を避ける
- レイヤー分離で合成最適化
- 画像の代わりに絵文字を使用（軽量）

## 実装優先順位

### Phase 1: 基本構造（必須）
1. ✅ 3リールの縦型レイアウト
2. ✅ 各リールに3シンボル表示
3. ✅ ダークな背景
4. ✅ 金属フレーム風の境界線

### Phase 2: インタラクション（必須）
1. ✅ リール回転アニメーション
2. ✅ 個別停止機能
3. ✅ ボタンの状態管理
4. ✅ 結果表示

### Phase 3: ビジュアル強化（推奨）
1. ⬜ ペイライン表示
2. ⬜ 勝利時のハイライト
3. ⬜ より滑らかなアニメーション
4. ⬜ サウンドエフェクト（オプション）

### Phase 4: 追加機能（オプション）
1. ⬜ 紙吹雪エフェクト
2. ⬜ スコア表示
3. ⬜ 履歴表示
4. ⬜ 設定パネル

## 技術的制約

### ブラウザサポート
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

### 使用技術
- HTML5
- CSS3（Flexbox, Grid, Animations）
- TypeScript
- 外部ライブラリなし（Pure CSS/JS）

## テスト項目

### ビジュアルテスト
- [ ] 各ブラウザでの表示確認
- [ ] レスポンシブデザインの動作
- [ ] アニメーションの滑らかさ
- [ ] 色のコントラスト

### 機能テスト
- [ ] リール回転の開始/停止
- [ ] ボタンの有効/無効切り替え
- [ ] 結果表示の正確性
- [ ] キーボード操作

### パフォーマンステスト
- [ ] アニメーションのFPS
- [ ] メモリ使用量
- [ ] CPU使用率
- [ ] モバイルでの動作

## 参考資料

- 提供された画像: 3リールスロットマシンのUI
- クラシックスロットマシンのデザインパターン
- カジノゲームのUX/UIベストプラクティス
